<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
    <meta name="description" content="Role-Play Roulette - Practice English conversation with fun scenarios">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Role-Play Roulette">
    <meta name="mobile-web-app-capable" content="yes">
    <title>ğŸ­ Role-Play Roulette</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ­ Role-Play Roulette</h1>
            <p>Practice English conversation together â¤ï¸</p>
        </div>

        <div class="section">
            <div class="section-title">Choose Difficulty</div>
            <div class="difficulty-selector">
                <button class="difficulty-btn easy active" data-difficulty="easy">ğŸŸ¢ Easy</button>
                <button class="difficulty-btn medium" data-difficulty="medium">ğŸŸ¡ Medium</button>
                <button class="difficulty-btn hard" data-difficulty="hard">ğŸ”´ Hard</button>
            </div>
        </div>

        <div class="section">
            <div class="section-title">Choose Category</div>
            <div class="category-selector">
                <button class="category-btn" data-category="all">All Categories</button>
                <button class="category-btn active" data-category="daily">ğŸ  Daily Life</button>
                <button class="category-btn" data-category="travel">âœˆï¸ Travel</button>
                <button class="category-btn" data-category="work">ğŸ’¼ Work</button>
                <button class="category-btn" data-category="romance">ğŸ’– Romance</button>
                <button class="category-btn" data-category="fun">ğŸ˜‚ Fun / Silly</button>
                <button class="category-btn" data-category="deep">ğŸ§  Deep Talk</button>
            </div>
        </div>

        <button class="spin-button" id="spinBtn">ğŸ° Spin Scenario</button>

        <div class="scenario-card" id="scenarioCard">
            <div class="scenario-header">
                <div class="scenario-title" id="scenarioTitle"></div>
                <div class="scenario-actions">
                    <button class="action-btn swap-btn" id="swapBtn" title="Swap Roles">
                        ğŸ”„ Swap Roles
                    </button>
                </div>
            </div>
            
            <div class="timer-section" id="timerSection" style="display: none;">
                <div class="timer-container">
                    <div class="timer-circle">
                        <svg class="timer-svg" viewBox="0 0 100 100">
                            <circle class="timer-bg" cx="50" cy="50" r="45"></circle>
                            <circle class="timer-progress" id="timerProgress" cx="50" cy="50" r="45"></circle>
                        </svg>
                        <div class="timer-text" id="timerText">2:30</div>
                    </div>
                    <div class="timer-controls">
                        <button class="timer-btn" id="startTimerBtn">â±ï¸ Start Timer</button>
                        <button class="timer-btn" id="stopTimerBtn" style="display: none;">â¸ï¸ Stop</button>
                    </div>
                </div>
            </div>

            <div class="role-section" id="roleASection">
                <div class="role-label">ğŸ‘¤ Role A</div>
                <div class="role-description" id="roleA"></div>
            </div>
            <div class="role-section" id="roleBSection">
                <div class="role-label">ğŸ‘¤ Role B</div>
                <div class="role-description" id="roleB"></div>
            </div>
            <div class="hints-section">
                <div class="hints-title">ğŸ’¡ Helpful Words</div>
                <div class="hints-list" id="hintsList"></div>
            </div>
        </div>

        <div class="scenario-card" id="noScenarioCard" style="display: none;">
            <div class="no-scenario">
                <div class="no-scenario-emoji">ğŸ˜Š</div>
                <div>Try another category or difficulty ğŸ˜Š</div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Register Service Worker for PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                // Try standalone service worker first, fallback to Next.js service worker
                navigator.serviceWorker.register('sw-standalone.js', { scope: './' })
                    .then((registration) => {
                        console.log('Service Worker registered successfully:', registration.scope);
                    })
                    .catch(() => {
                        // Fallback to Next.js service worker if standalone doesn't exist
                        navigator.serviceWorker.register('/sw.js', { scope: '/' })
                            .then((registration) => {
                                console.log('Service Worker registered successfully:', registration.scope);
                            })
                            .catch((error) => {
                                console.log('Service Worker registration failed:', error);
                            });
                    });
            });
        }
    </script>
</body>
</html>